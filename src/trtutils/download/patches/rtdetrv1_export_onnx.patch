--- rtdetr_pytorch/tools/export_onnx.py	2025-09-26 19:16:38.145773950 -0700
+++ rtdetr_pytorch_fix/tools/export_onnx.py	2025-09-26 19:18:42.045568082 -0700
@@ -50,17 +50,17 @@
         'orig_target_sizes': {0: 'N'}
     }
 
-    data = torch.rand(1, 3, 640, 640)
-    size = torch.tensor([[640, 640]])
+    data = torch.rand(1, 3, args.imgsz, args.imgsz)
+    size = torch.tensor([[args.imgsz, args.imgsz]])
 
     torch.onnx.export(
         model, 
-        (data, size), 
+        (data, size),
         args.file_name,
         input_names=['images', 'orig_target_sizes'],
         output_names=['labels', 'boxes', 'scores'],
         dynamic_axes=dynamic_axes,
-        opset_version=16, 
+        opset_version=args.opset, 
         verbose=False
     )
 
@@ -141,6 +141,8 @@
     parser.add_argument('--file-name', '-f', type=str, default='model.onnx')
     parser.add_argument('--check',  action='store_true', default=False,)
     parser.add_argument('--simplify',  action='store_true', default=False,)
+    parser.add_argument('--opset', type=int, default=17)
+    parser.add_argument('--imgsz', type=int, default=640)
 
     args = parser.parse_args()
 
